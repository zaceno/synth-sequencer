{"dependencies":[{"name":"/Users/zache/Code/synth-sequencer/.babelrc","includedInParent":true,"mtime":1521074738409},{"name":"/Users/zache/Code/synth-sequencer/package.json","includedInParent":true,"mtime":1521132316933},{"name":"./const","loc":{"line":1,"column":55}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),t=require(\"./const\");function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,i){return Math.exp((12*i+e-t.TUNING_NOTE)*Math.log(2)/12)*t.TUNING_FREQ}var l=new(window.AudioContext||window.webkitAudioContext),n=function(){function n(){i(this,n),this.oscillator=l.createOscillator(),this.filter=l.createBiquadFilter(),this.envelope=l.createGain(),this.amplifier=l.createGain(),this.oscillator.connect(this.filter),this.filter.connect(this.envelope),this.envelope.connect(this.amplifier),this.amplifier.connect(l.destination),this.set(t.SYNTH_DEFAULTS),this.envelope.gain.value=0,this.oscillator.start()}return e(n,[{key:\"set\",value:function(e){e.oscillatorType&&(this.oscillator.type=e.oscillatorType),e.filterCutoff&&(this.filter.frequency.value=e.filterCutoff),e.filterQ&&(this.filter.Q.value=e.filterQ),e.ampLevel&&(this.amplifier.gain.value=e.ampLevel),e.attackTime&&(this.attackTime=e.attackTime),e.decayTime&&(this.decayTime=e.decayTime),e.sustainLevel&&(this.sustainLevel=e.sustainLevel),e.octave&&(this.octave=e.octave),e.releaseTime&&(this.releaseTime=e.releaseTime)}},{key:\"attack\",value:function(e){var t=a(e,this.octave),i=l.currentTime;this.oscillator.frequency.cancelScheduledValues(i),this.envelope.gain.cancelScheduledValues(i),i+=.01,this.oscillator.frequency.linearRampToValueAtTime(t,i),this.envelope.gain.linearRampToValueAtTime(0,i),i+=this.attackTime,this.envelope.gain.linearRampToValueAtTime(1,i),i+=this.decayTime,this.envelope.gain.linearRampToValueAtTime(this.sustainLevel,i)}},{key:\"release\",value:function(){var e=l.currentTime+.01;this.envelope.gain.cancelScheduledValues(e),e+=this.releaseTime,this.envelope.gain.linearRampToValueAtTime(0,e)}}]),n}();exports.default=n;"},"hash":"e3e3a9abaefb26b7c699eb87ffc55e21","cacheData":{"env":{}}}